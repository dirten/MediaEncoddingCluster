
IF(NOT EXISTS ${PROJECT_SOURCE_DIR}/target1/dependency1)
  FILE(MAKE_DIRECTORY ${PROJECT_SOURCE_DIR}/target1/dependency1)
ENDIF()

#file(DOWNLOAD url file [TIMEOUT timeout] [STATUS status] [LOG log])


set(WGET wget)
MACRO (DOWNLOAD_PACKAGE infile outfile)
MESSAGE("Downloading ${infile} with ${WGET}")
ADD_CUSTOM_COMMAND(OUTPUT ${PROJECT_SOURCE_DIR}/${outfile}
	           COMMAND ${WGET}
                   ARGS ${infile}
                        ${PROJECT_SOURCE_DIR}/${outfile}
                   MAIN_DEPENDENCY
		        ${PROJECT_SOURCE_DIR}/${outfile}

)
ENDMACRO (DOWNLOAD_PACKAGE)

#FILE_TO_STRING(Plain.html    Plain_html.C    Plain_html)
add_custom_target(deps
  wget http://dev.mysql.com/get/Downloads/MySQL-5.1/mysql-noinstall-5.1.48-win32.zip/from/http://ftp.gwdg.de/pub/misc/mysql// testtarget
#  WORKING_DIRECTORY ${PROJECT_SOURCE_DIR}/source
)
DOWNLOAD_PACKAGE(http://dev.mysql.com/get/Downloads/MySQL-5.1/mysql-noinstall-5.1.48-win32.zip/from/http://ftp.gwdg.de/pub/misc/mysql// testtarget)

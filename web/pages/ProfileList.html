<table width="800" border=0>
<thead >
<tr style="border:solid 2px; border-color:black">
  <th class="underline" style="width:400px">Name</th>
  <th class="underline" style="width:400px">Uuid</th>
</tr>
</thead>
<tbody id="list_profile"/>
</table>
<div id="dialog-form" title="Edit Profile"></div>

<script>
var profileId=0;
$(function() {

  $.getJSON( "/api/v1/profile", function( data ) {
    var i=0;
    $.each( data.data, function( key, val ) {
      var even_odd=++i%2==0?'even':'odd';
      $("#list_profile").append('<tr class="'+even_odd+' clickable" data="'+val.uuid+'"><td>'+val.name+'</td><td>'+val.uuid+'</td></tr>');
    });

    $(".clickable").click(function() {
    profileId=this.getAttribute("data");
    console.log(profileId);
      $("#dialog-form").load('pages/ProfileForm.html?uid=1', function() {
        $("#dialog-form").dialog("open");
      });
    });
  });

  $("#dialog-form").dialog({
    autoOpen: false,
    height: 600,
    width: 800,
    modal: true,
    buttons: {
            "Save": function() {
            },
            Cancel: function() {
              $( this ).dialog( "close" );
            }
          },
          close: function() {
            //allFields.val( "" ).removeClass( "ui-state-error" );
          }
    });
});

</script>
